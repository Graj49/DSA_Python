
##Implementation of Randomized Quicksort

##Method definition of RadomizedPartition

import random
def randomizedPartition(arr,p,q):
    ##random pivot index
    randomPivotIndex=random.randrange(p,q)
    #swap the random index with the first index
    arr[p],arr[randomPivotIndex] =arr[randomPivotIndex],arr[p]
    return partition(arr,p,q)

##Method definition of Partition

def partition(arr,p,q):
    pivot=arr[p]
    i=p
    for j in range(i+1,q+1):
        if arr[j]<=pivot:
            i+=1
            ##swap between the values of arr[i] and arr[j]
            arr[i],arr[j]=arr[j],arr[i]

    ##final swap between the value of arr[i] and arr[p]
    arr[i],arr[p]=arr[p],arr[i]
    return i

##Method definition of quicksort

def quicksort(arr,p,q):
    if p<q:
        ##Divide and Conquer Approach
        ##1. Divide
        ##Function calling for the partition method
        mid = randomizedPartition(arr, p, q)

        ##recursive function call for left subtree
        quicksort(arr, p,mid-1)

        ##recursive function call for right subtree
        quicksort(arr,mid+1,q)

    return arr

##Driver Code
arr=[50,70,29,67,12,15,46,100,26,29]
p=0
q=len(arr)-1
##Function calling
result=quicksort(arr, p, q)
print(result)
